import{h as $,u as ee,r as v,o as N,i as k,k as V,l as D,m as S,j as e,L as R,s as te,b as j,p as se,q as ae,t as ne,v as re,w as oe,x as X,y as H,z as K,A as P,C as q,D as G,F as ce,G as le,H as ie,I as de,J as he,K as me,M as ue,N as Q,O as pe,P as ge,R as ve,n as C,Q as je,E as xe}from"./index-DI3rCwnI.js";import{D as M}from"./delete-icon-DRQ80RcQ.js";const fe="_wspaceContainer_17xcj_1",be={wspaceContainer:fe},we="_navContainer_p54ub_1",Ae="_navLeft_p54ub_21",_e="_dummy_p54ub_53",Ce="_navMiddle_p54ub_71",Ne="_activePage_p54ub_113",ye="_navRight_p54ub_123",Be="_shareBtn_p54ub_171",Fe="_shareActive_p54ub_179",ke="_saveBtn_p54ub_187",Ie="_imgDiv_p54ub_195",Ee="_shareLink_p54ub_227",b={navContainer:we,navLeft:Ae,dummy:_e,navMiddle:Ce,activePage:Ne,navRight:ye,shareBtn:Be,shareActive:Fe,saveBtn:ke,imgDiv:Ie,shareLink:Ee},Le="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.4%2014L0%2012.6L5.6%207L0%201.4L1.4%200L7%205.6L12.6%200L14%201.4L8.4%207L14%2012.6L12.6%2014L7%208.4L1.4%2014Z'%20fill='%23F55050'/%3e%3c/svg%3e",Re="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='mask0_87_2352'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='24'%20height='24'%3e%3crect%20width='24'%20height='24'%20fill='%23D9D9D9'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_87_2352)'%3e%3cpath%20d='M9.54961%2018L3.84961%2012.3L5.27461%2010.875L9.54961%2015.15L18.7246%205.97498L20.1496%207.39998L9.54961%2018Z'%20fill='%231A5FFF'/%3e%3c/g%3e%3c/svg%3e",Qe=({formId:s})=>{const r=$(),t=ee(),[a,h]=v.useState(!1),d=N(m=>m.fields),u=N(m=>m.flows.flowitems),n=N(m=>m.errors),l=k(),c=m=>{l(te(m.target.value))};v.useEffect(()=>{r.pathname.startsWith("/workspace")||(l(V()),l(D()),l(S()))},[r,l]);const f=async()=>{if(n==="Required Field"){j.error("Please fill all the required fields");return}const m=u.some(p=>p.bubbleOrInput==="bubble"&&!p.content.data),B=u.some(p=>p.bubbleOrInput==="input"&&p.content.type==="button"&&!p.content.data);if(m){j.error("All bubble items must have data");return}if(B){j.error("Button inputs must have data");return}try{s?await i(s):await o()}catch{j.error("Please try again also check every fields are filled")}},o=async()=>{var m,B;try{const p=await se(d.formName,d.theme,u,d.folderId);p.success||p.status===201?(j.success((m=p==null?void 0:p.data)==null?void 0:m.message),t(`/workspace/flow/${p.data.data._id}`)):j.error(((B=p==null?void 0:p.data)==null?void 0:B.message)||"Form creation failed. Please try again later")}catch{j.error("An error occurred during form creation. Please try again later.")}},i=async m=>{var B,p;try{const _=await ae(d.formName,d.theme,u,m);_.success||_.status===201?j.success((B=_==null?void 0:_.data)==null?void 0:B.message):j.error(((p=_==null?void 0:_.data)==null?void 0:p.message)||"Form updation failed. Please try again later")}catch{j.error("An error occurred during form creation. Please try again later.")}},x=m=>r.pathname.startsWith(m),A=s?`/workspace/flow/${s}`:"/workspace/flow",y=s?`/workspace/theme/${s}`:"/workspace/theme",L=s?`/workspace/response/${s}`:"/workspace/response",O=()=>{l(V()),l(D()),l(S()),t("/dashboard")},U=()=>{if(!s)return;const m=`${window.location.origin}/form-bot/${s}`;navigator.clipboard.writeText(m).then(()=>{h(!0)}).catch(()=>{j.error("Failed to copy link. Please try again.")})};v.useEffect(()=>{let m;return a&&(m=setTimeout(()=>{h(!1)},3e3)),()=>clearTimeout(m)},[a]);const Y=r.pathname.includes("/theme")||r.pathname.includes("/response");return e.jsxs("div",{className:b.navContainer,children:[e.jsx("div",{className:b.navLeft,children:Y?e.jsx("div",{className:b.dummy}):e.jsx("input",{type:"text",placeholder:"Enter Form Name",value:d.formName,onChange:c})}),e.jsxs("div",{className:b.navMiddle,children:[e.jsx("div",{children:e.jsx(R,{to:A,className:x("/workspace/flow")?b.activePage:"",children:"Flow"})}),e.jsx("div",{children:e.jsx(R,{to:y,className:x("/workspace/theme")?b.activePage:"",children:"Theme"})}),e.jsx("div",{children:e.jsx(R,{to:L,className:x("/workspace/response")?b.activePage:"",children:"Response"})})]}),e.jsxs("div",{className:b.navRight,children:[e.jsx("button",{className:s?b.shareActive:b.shareBtn,onClick:U,disabled:!s,children:"Share"}),e.jsx("button",{className:b.saveBtn,onClick:f,children:"Save"}),e.jsx("div",{className:b.imgDiv,onClick:O,children:e.jsx("img",{src:Le,alt:"close icon"})}),a&&e.jsxs("div",{className:b.shareLink,children:[e.jsx("img",{src:Re,alt:"blue tick"}),e.jsx("p",{children:"Link Copied"})]})]})]})},Pe="_flowWrapper_rm1r8_1",qe="_sidebarConatiner_rm1r8_27",Ge="_flowContainer_rm1r8_39",Me="_formFlows_rm1r8_95",Ve="_flowStart_rm1r8_113",I={flowWrapper:Pe,sidebarConatiner:qe,flowContainer:Ge,formFlows:Me,flowStart:Ve},De="_sidebarWrapper_11mut_1",Se="_bubbleContainer_11mut_65",We="_inputContainer_11mut_67",ze="_singleButton_11mut_89",Te="_buttonsGrid_11mut_149",F={sidebarWrapper:De,bubbleContainer:Se,inputContainer:We,singleButton:ze,buttonsGrid:Te},Ze=()=>{const s=k(),r=(t,a)=>{s(oe({bubbleOrInput:t,type:a,data:""}))};return e.jsxs("div",{className:F.sidebarWrapper,children:[e.jsxs("div",{className:F.bubbleContainer,children:[e.jsx("h1",{children:"Bubbles"}),e.jsx("div",{className:F.buttonsGrid,children:ne.map(({id:t,icon:a,alt:h,name:d,bubbleOrInput:u,type:n})=>e.jsxs("div",{className:F.singleButton,onClick:()=>r(u,n),children:[e.jsx("img",{src:a,alt:h}),e.jsx("p",{children:d})]},t))})]}),e.jsxs("div",{className:F.inputContainer,children:[e.jsx("h1",{children:"Inputs"}),e.jsx("div",{className:F.buttonsGrid,children:re.map(({id:t,icon:a,alt:h,name:d,bubbleOrInput:u,type:n})=>e.jsxs("div",{className:F.singleButton,onClick:()=>r(u,n),children:[e.jsx("img",{src:a,alt:h}),e.jsx("p",{children:d})]},t))})]})]})},Je="data:image/svg+xml,%3csvg%20width='21'%20height='21'%20viewBox='0%200%2021%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200V21H2.625V0H0ZM5.25%200V10.5H10.5V13.125H21L15.75%207.95375L21%202.625H13.125V0L5.25%200Z'%20fill='white'/%3e%3c/svg%3e",Xe="_cardContainer_wt0zz_1",He="_input_wt0zz_35",Ke="_errorMsg_wt0zz_105",Oe="_deleteIcon_wt0zz_125",E={cardContainer:Xe,input:He,errorMsg:Ke,deleteIcon:Oe},Ue=({logoType:s,title:r,index:t,placeholder:a})=>{const h=N(x=>{var A,y;return(y=(A=x.flows.flowitems[t])==null?void 0:A.content)==null?void 0:y.data}),[d,u]=v.useState(""),[n,l]=v.useState(h||""),c=k(),f=()=>{n.trim()===""?(u("Required Field"),c(X("Required Field"))):(u(""),c(H()))};v.useEffect(()=>{l(h||"")},[h]);const o=x=>{const A=x.target.value;l(A),c(K({index:t,newData:A}))},i=x=>{c(P({index:x})),c(q())};return e.jsxs("div",{className:E.cardContainer,children:[e.jsx("p",{children:r}),e.jsxs("div",{children:[e.jsxs("div",{className:E.input,children:[e.jsx("img",{src:s,alt:"type logo"}),e.jsx("input",{type:"text",placeholder:a,value:n,onChange:o,onFocus:f,onBlur:f,autoFocus:!0})]}),e.jsx("small",{className:E.errorMsg,children:d})]}),e.jsx("div",{className:E.deleteIcon,onClick:()=>i(t),children:e.jsx("img",{src:M,alt:"delete icon"})})]})},Ye="_cardContainer_1mn1v_1",$e="_deleteIcon_1mn1v_45",W={cardContainer:Ye,deleteIcon:$e},et=({title:s,placeholder:r,index:t})=>{const a=k(),h=d=>{a(P({index:d})),a(q())};return e.jsxs("div",{className:W.cardContainer,children:[e.jsx("p",{children:s}),e.jsx("small",{children:r}),e.jsx("div",{className:W.deleteIcon,onClick:()=>h(t),children:e.jsx("img",{src:M,alt:"delete icon"})})]})},tt="_btnContainer_nsb21_1",st="_deleteIcon_nsb21_75",z={btnContainer:tt,deleteIcon:st},at=({title:s,index:r})=>{const[t,a]=v.useState(null),[h,d]=v.useState(""),u=N(o=>{var i,x;return(x=(i=o.flows.flowitems[r])==null?void 0:i.content)==null?void 0:x.data}),n=k(),l=o=>{const i=o.target.value;d(i),n(K({index:r,newData:i}))};v.useEffect(()=>{d(u||"")},[u]);const c=()=>{h.trim()===""?(a("Required Field"),n(X("Required Field"))):(a(null),n(H()))},f=o=>{n(P({index:o})),n(q())};return e.jsxs("div",{className:z.btnContainer,children:[e.jsx("p",{children:s}),e.jsx("input",{type:"text",placeholder:"User will see this as button",value:h,onChange:l,onBlur:c,autoFocus:!0}),e.jsx("small",{children:t}),e.jsx("div",{className:z.deleteIcon,onClick:()=>f(r),children:e.jsx("img",{src:M,alt:"delete icon"})})]})},T=({onIdChange:s})=>{const r=N(n=>n.flows.flowitems),t=k(),{id:a}=G(),[h]=ce(),d=h.get("folderId");v.useEffect(()=>{s&&s(a),a&&u(a)},[a,s]),v.useEffect(()=>{d&&t(le(d))},[d,t]);const u=async n=>{var l;try{const c=await ie(n);if(c.success||c.status===200){const{data:f}=c.data;t(de({formName:f.formName,theme:f.theme,folderId:f.folderId})),t(he(f.flow))}else j.error(((l=c==null?void 0:c.data)==null?void 0:l.message)||"Login failed")}catch{j.error("An error occurred during fetchin data. Please try again later.")}};return e.jsxs("div",{className:I.flowWrapper,children:[e.jsx("div",{className:I.sidebarConatiner,children:e.jsx(Ze,{})}),e.jsxs("div",{className:I.flowContainer,children:[e.jsxs("div",{className:I.flowStart,children:[e.jsx("img",{src:Je,alt:"flow start flag"}),e.jsx("p",{children:"Start"})]}),e.jsx("div",{className:I.formFlows,children:r.map((n,l)=>{if(n.bubbleOrInput==="bubble"){const c=me[n.content.type];if(c)return e.jsx(Ue,{logoType:c.logoType,title:n.title,placeholder:c.placeholder,index:l},l+1)}else if(n.bubbleOrInput==="input"){if(n.content.type==="button")return e.jsx(at,{title:n.title,index:l},l+1);{const c=ue[n.content.type];return e.jsx(et,{title:n.title,placeholder:c.placeholder,index:l},l+1)}}})})]})]})},nt="_themeWrapper_ktj1e_1",rt="_sideTheme_ktj1e_15",ot="_text_ktj1e_37",ct="_themeContainer_ktj1e_77",lt="_themes_ktj1e_95",it="_body_ktj1e_159",dt="_botLogo_ktj1e_175",ht="_btnDiv_ktj1e_221",mt="_btn_ktj1e_221",ut="_dot_ktj1e_255",pt="_selected_ktj1e_275",g={themeWrapper:nt,sideTheme:rt,text:ot,themeContainer:ct,themes:lt,body:it,botLogo:dt,btnDiv:ht,btn:mt,dot:ut,selected:pt},gt="/assets/light-theme-nr5EI31Z.png",vt="/assets/dark-theme-CUnOhVAN.png",jt="data:image/png;base64,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",Z=({onIdChange:s})=>{const{id:r}=G(),t=N(h=>h.fields.theme),a=k();return v.useEffect(()=>{s&&s(r)},[r,s]),e.jsxs("div",{className:g.themeWrapper,children:[e.jsxs("div",{className:g.sideTheme,children:[e.jsx("div",{className:g.text,children:e.jsx("h4",{children:"Customize the theme"})}),e.jsxs("div",{className:g.themeContainer,children:[e.jsxs("div",{className:t==="#FFFFFF"?`${g.selected} ${g.themes}`:g.themes,onClick:()=>a(Q("#FFFFFF")),children:[e.jsx("img",{src:gt,alt:"light theme"}),e.jsx("div",{children:e.jsx("h5",{children:"Light"})})]}),e.jsxs("div",{className:t==="#171923"?`${g.selected} ${g.themes}`:g.themes,onClick:()=>a(Q("#171923")),children:[e.jsx("img",{src:vt,alt:"dark theme"}),e.jsx("div",{children:e.jsx("h5",{children:"Dark"})})]}),e.jsxs("div",{className:t==="#508C9B"?`${g.selected} ${g.themes}`:g.themes,onClick:()=>a(Q("#508C9B")),children:[e.jsx("img",{src:jt,alt:"blue theme"}),e.jsx("div",{children:e.jsx("h5",{children:"Tail Blue"})})]})]})]}),e.jsxs("div",{className:g.body,style:{background:t},children:[e.jsxs("div",{className:g.botLogo,children:[e.jsx("img",{src:pe,alt:"chat bot pic"}),e.jsx("span",{children:"Hello"})]}),e.jsxs("div",{className:g.btnDiv,children:[e.jsx("button",{className:g.btn,children:"Hi"}),e.jsx("div",{className:g.dot})]})]})]})},xt="_resWraapper_1vqd0_1",ft="_statContainer_1vqd0_19",bt="_stat_1vqd0_19",wt="_views_1vqd0_75",At="_starts_1vqd0_77",_t="_rate_1vqd0_85",Ct="_table_1vqd0_93",Nt="_noResponse_1vqd0_139",yt="_calImg_1vqd0_173",w={resWraapper:xt,statContainer:ft,stat:bt,views:wt,starts:At,rate:_t,table:Ct,noResponse:Nt,calImg:yt},Bt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20448%20512'%3e%3c!--!Font%20Awesome%20Free%206.6.0%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20fill='%23ffffff'%20d='M152%2024c0-13.3-10.7-24-24-24s-24%2010.7-24%2024l0%2040L64%2064C28.7%2064%200%2092.7%200%20128l0%2016%200%2048L0%20448c0%2035.3%2028.7%2064%2064%2064l320%200c35.3%200%2064-28.7%2064-64l0-256%200-48%200-16c0-35.3-28.7-64-64-64l-40%200%200-40c0-13.3-10.7-24-24-24s-24%2010.7-24%2024l0%2040L152%2064l0-40zM48%20192l352%200%200%20256c0%208.8-7.2%2016-16%2016L64%20464c-8.8%200-16-7.2-16-16l0-256z'/%3e%3c/svg%3e",J=({onIdChange:s})=>{const{id:r}=G(),[t,a]=v.useState([]),h=N(o=>o.flows.flowitems);console.log(h),v.useEffect(()=>{s&&s(r)},[r,s]),v.useEffect(()=>{d()},[]);const d=async()=>{var o;try{const i=await ge(r);i.success||i.status===200?(console.log(i==null?void 0:i.data.data),a(i.data.data)):j.error(((o=i==null?void 0:i.data)==null?void 0:o.message)||"Fetching response failed")}catch{j.error("An error occurred during getting responses. Please try again later.")}},u=t.length,n=t.filter(o=>o.responses.length>0).length,l=(n/u*100).toFixed(2),c=h.filter(o=>o.title.startsWith("Input")).map(o=>o.title),f=o=>o.replace(/^Input\s+/g,"").trim();return u<1?e.jsx("div",{className:w.noResponse,children:e.jsx("p",{children:"No Response yet collected"})}):e.jsxs("div",{className:w.resWraapper,children:[e.jsxs("div",{className:w.statContainer,children:[e.jsxs("div",{className:`${w.stat} ${w.views}`,children:[e.jsx("h2",{children:"Views"}),e.jsx("p",{children:u})]}),e.jsxs("div",{className:`${w.stat} ${w.starts}`,children:[e.jsx("h2",{children:"Starts"}),e.jsx("p",{children:n})]}),e.jsxs("div",{className:`${w.stat} ${w.rate}`,children:[e.jsx("h2",{children:"Completion rate"}),e.jsxs("p",{children:[l,"%"]})]})]}),e.jsx("div",{className:w.table,children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsxs("th",{className:w.calImg,children:[e.jsx("img",{src:Bt,alt:"calendar icon"})," Submitted At"]}),c.map((o,i)=>e.jsx("th",{children:f(o)},i))]})}),e.jsx("tbody",{children:t.map((o,i)=>e.jsxs("tr",{children:[e.jsx("td",{children:i+1}),e.jsx("td",{children:o.firstInteractionTime}),c.map((x,A)=>{const y=o.responses.find(L=>L.title===x);return e.jsx("td",{children:y?y.response:""},A)})]},i))})]})})]})},It=()=>{const[s,r]=v.useState(null),t=a=>{r(a)};return e.jsxs("div",{className:be.wspaceContainer,children:[e.jsx(Qe,{formId:s}),e.jsxs(ve,{children:[e.jsx(C,{path:"/",element:e.jsx(je,{to:"flow",replace:!0})}),e.jsx(C,{path:"flow",element:e.jsx(T,{onIdChange:t})}),e.jsx(C,{path:"flow/:id",element:e.jsx(T,{onIdChange:t})}),e.jsx(C,{path:"theme",element:e.jsx(Z,{onIdChange:t})}),e.jsx(C,{path:"theme/:id",element:e.jsx(Z,{onIdChange:t})}),e.jsx(C,{path:"response",element:e.jsx(J,{onIdChange:t})}),e.jsx(C,{path:"response/:id",element:e.jsx(J,{onIdChange:t})}),e.jsx(C,{path:"*",element:e.jsx(xe,{})})]})]})};export{It as default};
